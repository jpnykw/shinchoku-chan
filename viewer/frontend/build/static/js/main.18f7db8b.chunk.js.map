{"version":3,"sources":["reportWebVitals.js","components/Button.js","components/Container.js","components/FormControl.js","components/FormControlLabel.js","components/Grid.js","components/InputLabel.js","components/MenuItem.js","components/Select.js","components/Switch.js","components/TextField.js","components/Typography.js","components/Table.js","components/TableBody.js","components/TableCell.js","components/TableContainer.js","components/TableHead.js","components/TableRow.js","utils/date.js","pages/TableView.js","pages/GraphView.js","pages/Main.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Button","props","Container","FormControl","FormControlLabel","Grid","InputLabel","MenuItem","React","forwardRef","ref","Select","Switch","TextField","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","zero_pad","args","map","number","length","Number","parse_date","date_string","date","split","time","year","month","day","hour","minute","second","zero_pad_date","parse","join","utc_to_jst","utc","raw","Date","setHours","getHours","result","toLocaleString","useStyles","makeStyles","theme","root","margin","spacing","tableGrid","marginTop","TableView","darkMode","progress","classes","container","justify","className","table","JSON","row_data_packet","key","name","content","style","background","lineChart","position","right","progress_to_data","mode","minDate","maxDate","return_data","new_data","names","data","current_time","getTime","includes","push","undefined","Object","entries","posts","post","reverse","commits_to_data","commits","user","commit","additions","deletions","GraphView","showCommits","color_palette","results","sort","LineChart","width","height","top","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","label","value","fill","offset","YAxis","Tooltip","Legend","index","color","Line","type","stroke","activeDot","r","title","marginBottom","properties","pageBottom","Main","most_new_data_date","most_old_data_date","useState","selectedEndDate","setSelectedEndDate","selectedStartDate","setSelectedStartDate","fetchDisabled","setFetchDisabled","timestamp","localStorage","getItem","cooldown","now","delay","Math","max","setTimeout","removeItem","setProgress","setCommits","orderBy","setOrderBy","order","setOrder","error","setError","item","setItem","diffState","setDiffState","graphState","setGraphState","window","matchMedia","matches","createMuiTheme","palette","primary","main","colors","fetch_table_from_db","query","add_to_query","param","prefix","document","querySelector","use_name","limit","fetch","response","json","ThemeProvider","CssBaseline","xs","id","placeholder","defaultValue","autoComplete","onChange","event","target","handleLimitChange","labelId","handleOrderByChange","handleOrderChange","utils","DateFnsUtils","disableToolbar","variant","format","disableFuture","display","KeyboardButtonProps","control","checked","handleDiffChange","handleGraphChange","onClick","disabled","ReactDOM","render"],"mappings":"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","file":"static/js/main.18f7db8b.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { default as MaterialButton } from '@material-ui/core/Button';\n\nconst Button = (props) => {\n  return (\n    <MaterialButton {...props} />\n  );\n};\n\nexport default Button;","import { default as MaterialContainer } from '@material-ui/core/Container';\n\nconst Container = (props) => {\n  return (\n    <MaterialContainer {...props} />\n  );\n};\n\nexport default Container;","import { default as MaterialFormControl } from '@material-ui/core/FormControl';\n\nconst FormControl = (props) => {\n  return (\n    <MaterialFormControl {...props} />\n  );\n};\n\nexport default FormControl;","import { default as MaterialFormControlLabel } from '@material-ui/core/FormControlLabel';\n\nconst FormControlLabel = (props) => {\n  return (\n    <MaterialFormControlLabel {...props} />\n  );\n};\n\nexport default FormControlLabel;\n","import { default as MaterialGrid } from '@material-ui/core/Grid';\n\nconst Grid = (props) => {\n  return (\n    <MaterialGrid {...props} />\n  );\n};\n\nexport default Grid;","import { default as MaterialInputLabel } from '@material-ui/core/InputLabel';\n\nconst InputLabel = (props) => {\n  return (\n    <MaterialInputLabel {...props} />\n  );\n};\n\nexport default InputLabel;","import React from 'react';\nimport { default as MaterialMenuItem } from '@material-ui/core/MenuItem';\n\nconst MenuItem = React.forwardRef((props, ref) => {\n  return (\n    <MaterialMenuItem {...props} ref={ref} />\n  );\n});\n\nexport default MenuItem;","import { default as MaterialSelect } from '@material-ui/core/Select';\n\nconst Select = (props) => {\n  return (\n    <MaterialSelect {...props} />\n  );\n};\n\nexport default Select;","import { default as MaterialSwitch } from '@material-ui/core/Switch';\n\nconst Switch = (props) => {\n  return (\n    <MaterialSwitch {...props} />\n  );\n};\n\nexport default Switch;\n","import { default as MaterialTextField } from '@material-ui/core/TextField';\n\nconst TextField = (props) => {\n  return (\n    <MaterialTextField {...props} />\n  );\n};\n\nexport default TextField;","import { default as MaterialTypography } from '@material-ui/core/Typography';\n\nconst Typography = (props) => {\n  return (\n    <MaterialTypography {...props} />\n  );\n};\n\nexport default Typography;","import { default as MaterialTable } from '@material-ui/core/Table';\n\nconst Table = (props) => {\n  return (\n    <MaterialTable {...props} />\n  );\n};\n\nexport default Table;","import { default as MaterialTableBody } from '@material-ui/core/TableBody';\n\nconst TableBody = (props) => {\n  return (\n    <MaterialTableBody {...props} />\n  );\n};\n\nexport default TableBody;","import { default as MaterialTableCell } from '@material-ui/core/TableCell';\n\nconst TableCell = (props) => {\n  return (\n    <MaterialTableCell {...props} />\n  );\n};\n\nexport default TableCell;","import { default as MaterialTableContainer } from '@material-ui/core/TableContainer';\n\nconst TableContainer = (props) => {\n  return (\n    <MaterialTableContainer {...props} />\n  );\n};\n\nexport default TableContainer;","import { default as MaterialTableHead } from '@material-ui/core/TableHead';\n\nconst TableHead = (props) => {\n  return (\n    <MaterialTableHead {...props} />\n  );\n};\n\nexport default TableHead;","import { default as MaterialTableRow } from '@material-ui/core/TableRow';\n\nconst TableRow = (props) => {\n  return (\n    <MaterialTableRow {...props} />\n  );\n};\n\nexport default TableRow;","export const zero_pad = (...args) => {\n  return args.map(number => {\n    if (number.length > 1 && number[0] === '0') return number;\n    return `${Number(number) < 10 ? '0' : ''}${number}`;\n  });\n}\n\nexport const parse_date = (date_string) => {\n  let date = date_string.split(' ')[0];\n  let time = date_string.split(' ')[1];\n\n  const [year, month, day] = date.split('/');\n  date = zero_pad(year, month, day);\n\n  const [hour, minute, second] = time.split(':');\n  time = zero_pad(hour, minute, second);\n\n  return [date, time];\n}\n\nexport const zero_pad_date = (date_string = null) => {\n  if (date_string === null) return null;\n  const parse = parse_date(date_string);\n  const date = parse[0].join('/');\n  const time = parse[1].join(':');\n  return `${date} ${time}`;\n}\n\nexport const utc_to_jst = (utc, raw = false) => {\n  const date = new Date(utc);\n  date.setHours(date.getHours() + 9);\n\n  if (raw) {\n    return date;\n  } else {\n    const result = zero_pad_date(date.toLocaleString('ja'));\n    return result === null ? 'タイムスタンプが不正な値です' : result;\n  }\n}\n\n","import { makeStyles } from '@material-ui/core/styles';\n\nimport Grid from '../components/Grid.js';\nimport Table from '../components/Table.js';\nimport TableBody from '../components/TableBody.js';\nimport TableCell from '../components/TableCell.js';\nimport TableContainer from '../components/TableContainer.js';\nimport TableHead from '../components/TableHead.js';\nimport TableRow from '../components/TableRow.js';\n\nimport { utc_to_jst } from '../utils/date.js';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  tableGrid: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst TableView = ({\n  darkMode,\n  progress = '',\n}) => {\n  const classes = useStyles();\n  if (progress === '') return null;\n\n  return (\n    <Grid container justify = 'center' className={classes.tableGrid}>\n      <TableContainer>\n        <Table className={classes.table} aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n              <TableCell>ユーザー</TableCell>\n              <TableCell>投稿日時(JST)</TableCell>\n              <TableCell>投稿内容</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {JSON.parse(progress).map((row_data_packet, key) => {\n              const { name, content, date } = row_data_packet;\n              return (\n                <TableRow\n                  style={\n                    key % 2 === 0 ? \n                      {\n                        background : darkMode ? '#2a2a2a' : '#f7fafc'\n                      }\n                    :\n                      {\n                        background : 'none'\n                      }\n                  }\n                  key={key}\n                >\n                  <TableCell>{ name }</TableCell>\n                  <TableCell>{ utc_to_jst(date) }</TableCell>\n                  <TableCell>{ content }</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Grid>\n  );\n}\n\nexport default TableView;\n\n","import { makeStyles } from '@material-ui/core/styles';\n\nimport Container from '../components/Container.js';\nimport Grid from '../components/Grid.js';\n\nimport {\n  utc_to_jst,\n  parse_date\n} from '../utils/date.js';\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend\n} from 'recharts';\n\nconst useStyles = makeStyles((theme) => ({\n  lineChart: {\n    marginTop: theme.spacing(2),\n    position: 'relative',\n    right: '20px',\n  },\n  margin: {\n    marginTop: theme.spacing(2)\n  }\n}));\n\nconst progress_to_data = (mode = 'posts', progress, minDate, maxDate) => {\n  progress = JSON.parse(progress);\n\n  // まずは同じ日付に投稿されたデータをまとめる\n  // ついでに範囲内のユーザー全てをリストアップする\n  const return_data = [];\n  const new_data = {};\n  const names = [];\n\n  for (const data of progress) {\n    const date = parse_date(utc_to_jst(data.date));\n    const key = `${date[0][1]}/${date[0][2]}`;\n\n    // データの日付が指定された範囲内であるかどうかを判定する\n    const current_time = utc_to_jst(data.date, true).getTime();\n    if(minDate.getTime() <= current_time && maxDate.getTime() >= current_time) {\n      if (!names.includes(data.name)) {\n        names.push(data.name);\n      }\n\n      if (new_data[key] === undefined) {\n        new_data[key] = [data];\n      } else {\n        new_data[key].push(data);\n      }\n    }\n  }\n\n  for (const [key, posts] of Object.entries(new_data)) {\n    const new_data = { name: key };\n    for (const name of names) new_data[name] = 0;\n\n    for (const post of posts) {\n      const key = post.name;\n\n      switch (mode) {\n        case 'posts':\n          new_data[key] += 1;\n          break;\n\n        case 'content-length':\n          new_data[key] += post.content.length;\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return_data.push(new_data);\n  }\n\n  return [return_data.reverse(), names];\n}\n\nconst commits_to_data = (mode = 'additions', commits, minDate, maxDate) => {\n  commits = JSON.parse(commits);\n\n  // まずは同じ日付に投稿されたデータをまとめる\n  // ついでに範囲内のユーザー全てをリストアップする\n  const return_data = [];\n  const new_data = {};\n  const names = [];\n\n  for (const data of commits) {\n    const date = parse_date(utc_to_jst(data.date));\n    const key = `${date[0][1]}/${date[0][2]}`;\n\n    // データの日付が指定された範囲内であるかどうかを判定する\n    const current_time = utc_to_jst(data.date, true).getTime();\n    if(minDate.getTime() <= current_time && maxDate.getTime() >= current_time) {\n      if (!names.includes(data.user)) {\n        names.push(data.user);\n      }\n\n      if (new_data[key] === undefined) {\n        new_data[key] = [data];\n      } else {\n        new_data[key].push(data);\n      }\n    }\n  }\n\n  for (const [key, commits] of Object.entries(new_data)) {\n    const new_data = { name: key };\n    for (const name of names) new_data[name] = 0;\n\n    for (const commit of commits) {\n      const key = commit.user;\n\n      switch (mode) {\n        case 'additions':\n          new_data[key] += commit.additions;\n          break;\n\n        case 'deletions':\n          new_data[key] += commit.deletions;\n          break;\n\n        // no default\n      }\n    }\n\n    return_data.push(new_data);\n  }\n\n  return [return_data.reverse(), names];\n}\n\nconst GraphView = ({\n  darkMode,\n  commits = '',  // commits\n  progress = '', // posts\n  showCommits = false,\n  minDate,\n  maxDate,\n}) => {\n  const color_palette = ['EA7317', '2364AA', 'F76F8E', '73BFB8'];\n  const classes = useStyles();\n\n  const results = [\n    progress_to_data('posts', progress, minDate, maxDate),\n    progress_to_data('content-length', progress, minDate, maxDate),\n  ];\n\n  showCommits = showCommits && commits !== '';\n  if (showCommits) {\n    results.push(commits_to_data('additions', commits, minDate, maxDate));\n    results.push(commits_to_data('deletions', commits, minDate, maxDate));\n  }\n\n\n  const data = results.map((result) => result[0]);\n  const names = results.map((result) => result[1].sort());\n\n  return (\n    <>\n      <Grid container justify = 'center'>\n        <LineChart\n          width={500}\n          height={300}\n          data={data[0]}\n          margin={{\n            top: 5,\n            right: 30,\n            left: 20,\n            bottom: 5\n          }}\n          className={classes.lineChart}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis\n            dataKey=\"name\"\n            label={{\n              value: \"投稿した数\",\n              fill: darkMode ? '#f3f3f3' : '#222',\n              position: \"top\",\n              offset: 115,\n            }}\n          />\n          <YAxis\n          />\n          <Tooltip />\n          <Legend />\n          {\n            names[0].map((name, index) => {\n              const color = `#${color_palette[index]}`;\n              return (\n                index === 0 ?\n                  (\n                    <Line key={index} type=\"monotone\" dataKey={name} stroke={color} activeDot={{ r: 8 }} />\n                  )\n                :\n                  (\n                    <Line key={index} type=\"monotone\" dataKey={name} stroke={color} />\n                  )\n              )\n            })\n          }\n        </LineChart>\n        <LineChart\n          width={500}\n          height={300}\n          data={data[1]}\n          margin={{\n            top: 5,\n            right: 30,\n            left: 20,\n            bottom: 5\n          }}\n          className={classes.lineChart}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis\n            dataKey=\"name\"\n            label={{\n              value: \"コンテンツ量\",\n              fill: darkMode ? '#f3f3f3' : '#222',\n              position: \"top\",\n              offset: 115,\n            }}\n          />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          {\n            names[1].map((name, index) => {\n              const color = `#${color_palette[index]}`;\n              return (\n                index === 0 ?\n                  (\n                    <Line key={index} type=\"monotone\" dataKey={name} stroke={color} activeDot={{ r: 8 }} />\n                  )\n                :\n                  (\n                    <Line key={index} type=\"monotone\" dataKey={name} stroke={color} />\n                  )\n              )\n            })\n          }\n        </LineChart>\n      </Grid>\n\n      {\n        showCommits ?\n          (\n            <Grid container justify = 'center'>\n              <LineChart\n                width={500}\n                height={300}\n                data={data[2]}\n                margin={{\n                  top: 5,\n                  right: 30,\n                  left: 20,\n                  bottom: 5\n                }}\n                className={classes.lineChart}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis\n                  dataKey=\"name\"\n                  label={{\n                    value: \"追加した行数\",\n                    fill: darkMode ? '#f3f3f3' : '#222',\n                    position: \"top\",\n                    offset: 115,\n                  }}\n                />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                {\n                  names[2].map((name, index) => {\n                    const color = `#${color_palette[index]}`;\n                    return (\n                      index === 0 ?\n                        (\n                          <Line key={index} type=\"monotone\" dataKey={name} stroke={color} activeDot={{ r: 8 }} />\n                        )\n                      :\n                        (\n                          <Line key={index} type=\"monotone\" dataKey={name} stroke={color} />\n                        )\n                    )\n                  })\n                }\n              </LineChart>\n              <LineChart\n                width={500}\n                height={300}\n                data={data[3]}\n                margin={{\n                  top: 5,\n                  right: 30,\n                  left: 20,\n                  bottom: 5\n                }}\n                className={classes.lineChart}\n              >\n                <Container>追加した行数</Container>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis\n                  dataKey=\"name\"\n                  label={{\n                    value: \"削除した行数\",\n                    fill: darkMode ? '#f3f3f3' : '#222',\n                    position: \"top\",\n                    offset: 115,\n                  }}\n                />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                {\n                  names[3].map((name, index) => {\n                    const color = `#${color_palette[index]}`;\n                    return (\n                      index === 0 ?\n                        (\n                          <Line key={index} type=\"monotone\" dataKey={name} stroke={color} activeDot={{ r: 8 }} />\n                        )\n                      :\n                        (\n                          <Line key={index} type=\"monotone\" dataKey={name} stroke={color} />\n                        )\n                    )\n                  })\n                }\n              </LineChart>\n            </Grid>\n          )\n        :\n          (\n            <></>\n          )\n      }\n    </>\n  );\n}\n\nexport default GraphView;\n","import { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport * as colors from '@material-ui/core/colors';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport Button from '../components/Button.js';\nimport Container from '../components/Container.js';\nimport FormControl from '../components/FormControl.js';\nimport FormControlLabel from '../components/FormControlLabel.js';\nimport Grid from '../components/Grid.js';\nimport InputLabel from '../components/InputLabel.js';\nimport MenuItem from '../components/MenuItem.js';\nimport Select from '../components/Select.js';\nimport Switch from '../components/Switch.js';\nimport TextField from '../components/TextField.js';\nimport Typography from '../components/Typography.js';\n\nimport TableView from './TableView.js';\nimport GraphView from './GraphView.js';\n\nimport DateFnsUtils from '@date-io/date-fns';\n\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(3),\n  },\n  title: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  margin: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  properties: {\n    width: '80%',\n  },\n  pageBottom: {\n    marginBottom: theme.spacing(10),\n  }\n}));\n\nconst Main = () => {\n  const classes = useStyles();\n  const most_new_data_date = new Date();\n  const most_old_data_date = new Date('2021/6/30 00:00:00');\n\n  const [selectedEndDate, setSelectedEndDate] = useState(most_new_data_date);\n  const [selectedStartDate, setSelectedStartDate] = useState(most_old_data_date);\n\n  const [fetchDisabled, setFetchDisabled] = useState(false);\n\n  // フェッチ後すぐに再読み込みを行った場合はクールダウンを発生させる\n  const timestamp = localStorage.getItem('fetch-timestamp');\n  const cooldown = 3000;\n\n  if (timestamp !== null && !fetchDisabled) {\n    setFetchDisabled(true);\n    const now = new Date().getTime();\n    const delay = Math.max(0, cooldown - (now - timestamp));\n\n    setTimeout(() => {\n      localStorage.removeItem('fetch-timestamp');\n      setFetchDisabled(false)\n    }, delay);\n  }\n\n  const [progress, setProgress] = useState(''); // from posts table\n  const [commits, setCommits] = useState(''); // from commits table\n\n  const [orderBy, setOrderBy] = useState('date');\n  const [order, setOrder] = useState('DESC');\n  const [error, setError] = useState(false);\n  const [item, setItem] = useState(['古い順', '新しい順']);\n\n  const [diffState, setDiffState] = useState(false); // show graph of commits (diff)\n  const [graphState, setGraphState] = useState(false); // show as graph\n\n  // TODO: 今は環境に応じて自動的に設定しているため\n  // ユーザーからの切り替えを行う機能を実装する\n  /* eslint no-unused-vars: 0 */\n  const [darkMode, setDarkMode] = useState(window.matchMedia('(prefers-color-scheme: dark)').matches);\n\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: colors.blue[800],\n      },\n      type: darkMode ? 'dark' : 'light',\n    },\n  });\n\n  const handleStartDateChange = (date) => {\n    setSelectedStartDate(date);\n  };\n\n  const handleEndDateChange = (date) => {\n    setSelectedEndDate(date);\n  };\n\n  const handleOrderByChange = (event) => {\n    setOrderBy(event.target.value);\n    if (event.target.value === 'date') setItem(['古い順', '新しい順']);\n    else setItem(['50音順 (A~Z)', '50音順 (Z~A)']);\n  }\n\n  const handleOrderChange = (event) => {\n    setOrder(event.target.value);\n  };\n\n  const handleLimitChange = (event) => {\n    if (event.target.value < 0) return setError(true);\n    if (event.target.value === '') return setError(true);\n    setError(false);\n  }\n\n  const handleGraphChange = (event) => {\n    setGraphState(event.target.checked);\n  }\n\n  const handleDiffChange = (event) => {\n    setDiffState(event.target.checked);\n    // 差分表示が ON になった時にデータを取得していなかったら取得する\n    // ただし progress が空 (posts からデータを取得していない場合) であれば\n    // commits からの fetch を行わない\n    if (!diffState && progress !== '' && commits === '') {\n      fetch_table_from_db('commits');\n    }\n  }\n\n  const fetch_table_from_db = (table = 'posts') => {\n    if (error) return false;\n    if (!fetchDisabled) setFetchDisabled(true);\n\n    let query = '';\n    const add_to_query = (query, param) => {\n      let prefix = query === '' ? '?' : '&';\n      return `${query}${prefix}${param}`\n    }\n\n    // ユーザー名\n    const name = document.querySelector('#name').value;\n    const use_name = name !== '' && name !== '*';\n    if (table === 'posts' && use_name) query = add_to_query(query, `name=${name}`);\n    if (table === 'commits' && use_name) query = add_to_query(query, `user=${name}`);\n\n    // ソート順\n    if (table === 'posts') query = add_to_query(query, `order=${orderBy},${order}`);\n    if (table === 'commits' && orderBy === 'date') query = add_to_query(query, `order=${orderBy},${order}`);\n\n    // 件数\n    const limit = document.querySelector('#limit').value;\n    if (limit !== '' && limit !== '*') query = add_to_query(query, `limit=${limit}`);\n\n    fetch(`/api/${table}/${query}`)\n    .then((response) => response.json())\n    .then((data) => {\n      const result = data.result;\n\n      switch (table) {\n        case 'posts':\n          setProgress(result);\n          break;\n\n        case 'commits':\n          setCommits(result);\n          break;\n\n        // no default\n      }\n\n      // サーバーへの過度なアクセスを防ぐ為にクールダウンを発生させる\n      // またページをリロードした場合にも引き継ぎたいのでタイムスタンプを保持する\n      localStorage.setItem('fetch-timestamp', new Date().getTime());\n      setTimeout(() => {\n        localStorage.removeItem('fetch-timestamp');\n        setFetchDisabled(false);\n      }, cooldown);\n    });\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Container className={classes.root}>\n        <Grid container justify='center' className={classes.margin}>\n          <Grid item xs={3}>\n            <TextField\n              id='limit'\n              label='表示件数'\n              type='number'\n              placeholder='全件'\n              defaultValue={100}\n              autoComplete='off'\n              className={classes.properties}\n              onChange={(event) => handleLimitChange(event)}\n              error={error}\n            />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField\n              id='name'\n              label='ユーザー名'\n              placeholder='全員'\n              defaultValue='*'\n              autoComplete='off'\n              className={classes.properties}\n            />\n          </Grid>\n        </Grid>\n\n        <Grid container justify='center' className={classes.margin}>\n          <Grid item xs={3}>\n            <FormControl className={classes.properties}>\n              <InputLabel id='order-by-select'>ソートする値</InputLabel>\n              <Select\n                labelId='order-by-select'\n                id='order-by-select'\n                value={orderBy}\n                defaultValue='date'\n                onChange={(event) => handleOrderByChange(event)}\n              >\n                <MenuItem value='date'>日付</MenuItem>\n                <MenuItem value='name'>名前</MenuItem>\n                <MenuItem value='content'>内容</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n\n          <Grid item xs={3}>\n            <FormControl className={classes.properties}>\n              <InputLabel id='order-select'>ソート順</InputLabel>\n              <Select\n                labelId='order-select'\n                id='order-select'\n                value={order}\n                defaultValue='ASC'\n                onChange={(event) => handleOrderChange(event)}\n              >\n                <MenuItem value='ASC'>{item[0]}</MenuItem>\n                <MenuItem value='DESC'>{item[1]}</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <Grid container justify='center' className={classes.margin}>\n            <Grid item xs={3}>\n              <KeyboardDatePicker\n                disableToolbar\n                variant='inline'\n                format='MM/dd/yyyy'\n                margin='normal'\n                label='開始日'\n                value={selectedStartDate}\n                onChange={(event) => handleStartDateChange(event)}\n                className={classes.properties}\n                minDate={most_old_data_date}\n                disableFuture={true}\n                style={\n                  graphState ?\n                  { display: 'inline-block' } :\n                  { display: 'none' }\n                }\n                KeyboardButtonProps={{\n                  'aria-label': 'change date',\n                }}\n              />\n            </Grid>\n            <Grid item xs={3}>\n              <KeyboardDatePicker\n                disableToolbar\n                variant='inline'\n                format='MM/dd/yyyy'\n                margin='normal'\n                label='終了日'\n                value={selectedEndDate}\n                onChange={(event) => handleEndDateChange(event)}\n                className={classes.properties}\n                minDate={most_old_data_date}\n                disableFuture={true}\n                style={\n                  graphState ?\n                  { display: 'inline-block' } :\n                  { display: 'none' }\n                }\n                KeyboardButtonProps={{\n                  'aria-label': 'change date',\n                }}\n              />\n            </Grid>\n          </Grid>\n        </MuiPickersUtilsProvider>\n\n        <Container\n          style={\n            graphState ?\n            { display: 'inline-block' } :\n            { display: 'none' }\n          }\n        >\n          <FormControlLabel\n            control={\n              <Switch\n                checked={diffState}\n                onChange={(event) => handleDiffChange(event)}\n                name='diff'\n              />\n            }\n            label='差分を表示する'\n          />\n        </Container>\n\n        <Container>\n          <FormControlLabel\n            control={\n              <Switch \n                checked={graphState}\n                onChange={(event) => handleGraphChange(event)}\n                name='graph'\n              />\n            }\n            label='グラフで表示する'\n          />\n        </Container>\n\n        <Button\n          variant='outlined'\n          color='secondary'\n          onClick={() => {\n            fetch_table_from_db('posts');\n            if (diffState) fetch_table_from_db('commits');\n          }}\n          className={classes.margin}\n          disabled={fetchDisabled}\n        >\n          データを取得する\n        </Button>\n      </Container>\n\n      <Container className={classes.pageBottom} >\n        {\n          error || progress === '' || JSON.parse(progress).length === 0 ?\n            (\n              <Typography className={classes.margin}>\n                {\n                  error ?\n                    '使えない値が入力されているよ'\n                  :\n                  progress === '' ?\n                    'データを取得するボタンを押してね'\n                  :\n                    'データが見つからないよ'\n                }\n              </Typography>\n            )\n          : (\n            graphState ?\n              (\n                <GraphView\n                  darkMode={darkMode}\n                  commits={commits}\n                  progress={progress}\n                  minDate={selectedStartDate}\n                  maxDate={selectedEndDate}\n                  showCommits={diffState}\n                />\n              )\n            :\n              (\n                <TableView\n                  darkMode={darkMode}\n                  progress={progress}\n                />\n              )\n          )\n        }\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default Main;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport Main from './pages/Main';\nimport './index.css';\n\nReactDOM.render(<Main />, document.querySelector('#root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}